- id: "1712615457521"
  alias: Open door notification
  description:
    Send notification when a door is opened. The notification uses the
    title of the corresponding trigger, so remember to rename each trigger appropriately.
  triggers:
    - type: opened
      device_id: 118ce1941d4e6e1c22c43dbd00cb808e
      entity_id: 7869814d7349a434137aee7ccb86dcdf
      domain: binary_sensor
      trigger: device
      alias: Front Door opened
    - type: opened
      device_id: 059ae17009ef7ad0ee4230d22915434c
      entity_id: 8f9497863266e0af4455a8c24b5f8913
      domain: binary_sensor
      trigger: device
      alias: Garage Door opened
    - type: opened
      device_id: 253599d6cfa16c07834bd350ed16b6fa
      entity_id: e00a75e81f5fa6981a912527391ecaff
      domain: binary_sensor
      trigger: device
      alias: Back Yard Door opened
  conditions:
    - condition: device
      device_id: 93bb9cc2c571926bfbcc747d50237b45
      domain: device_tracker
      entity_id: 00a03a286bc9472f94402cb92731fd30
      type: is_not_home
      enabled: true
  actions:
    - metadata: {}
      data:
        title: "{{ trigger.alias }}"
        message:
          "{{ trigger.alias }} @ {{ now().strftime('%Y-%m-%d') }} {{ now().strftime('%H:%M:%S')
          }}"
        data:
          ttl: 0
          priority: high
      action: notify.mobile_app_sm_s901b
  mode: single
- id: "1715862234975"
  alias: PVoutput
  description: Post solar power output to pvoutput.org every 5 minutes
  trigger:
    - platform: time_pattern
      minutes: "5"
  condition:
    - condition: numeric_state
      entity_id: sensor.solar_inverter_inputpower
      above: 0
  action:
    - service: rest_command.update_pvoutput
      data: {}
  mode: single
- id: "1717101940680"
  alias: Doorbell
  description: ""
  triggers:
    - type: occupied
      device_id: e619c22ee731ba11a006681b0e19301b
      entity_id: 9292ffaca4dbf1501b8aa19df0492caa
      domain: binary_sensor
      trigger: device
  conditions: []
  actions:
    - metadata: {}
      data: {}
      target:
        entity_id: siren.kichen_siren_play_tone
      action: siren.turn_on
    - data:
        message: Someone is at the front door
        data:
          ttl: 0
          priority: high
      action: notify.mobile_app_sm_s901b
    - action: notify.mobile_app_sm_s921b
      data:
        data:
          ttl: 0
          priority: high
        message: Someone is at the front door
    - data:
        message: Someone is at the front door
        data:
          icon: /home/homeassistant/images/doorbell.png
      action: notify.lg_oled_tv
  mode: single
- id: "1717446926717"
  alias: Turn on living room TV
  description: Turn On Living Room TV with WakeOnLan
  trigger:
    - platform: device
      device_id: 6bb780a1b238a8f164a25f6b6c881732
      domain: webostv
      type: webostv.turn_on
  condition: []
  action:
    - service: wake_on_lan.send_magic_packet
      data:
        mac: b0:37:95:1a:11:8a
  mode: single
- id: "1717939911692"
  alias: Basement Auto Light
  description: Turn on Basement Light when Basement Motion is detected
  use_blueprint:
    path: homeassistant/motion_light.yaml
    input:
      motion_entity: binary_sensor.basement_motion_motion
      light_target:
        area_id: basement
      no_motion_wait: 60
- id: "1718196868013"
  alias: Toilet Auto Light
  description: ""
  use_blueprint:
    path: homeassistant/motion_light.yaml
    input:
      motion_entity: binary_sensor.toilet_multisensor_motion_detection
      light_target:
        area_id: toilet
      no_motion_wait: 90
- id: "1718200676292"
  alias: Front Yard Auto Light
  description:
    Turn on front yard light if it's dark outside and someone is approaching
    the front door.
  use_blueprint:
    path: custom/motion_light_w_conditions.yaml
    input:
      motion_entity: binary_sensor.g4_doorbell_motion
      light_target:
        area_id: front_yard
      additional_conditions:
        - condition: or
          conditions:
            - condition: sun
              before: sunrise
            - condition: sun
              after: sunset
- id: "1718218472644"
  alias: Hallway Auto Lights triggered by Front Door
  description: ""
  trigger:
    - type: opened
      platform: device
      device_id: 118ce1941d4e6e1c22c43dbd00cb808e
      entity_id: 7869814d7349a434137aee7ccb86dcdf
      domain: binary_sensor
  condition: []
  action:
    - service: automation.trigger
      metadata: {}
      data:
        skip_condition: true
      target:
        entity_id: automation.hallway_auto_lights
  mode: single
- id: "1718455866890"
  alias: Smallway Auto Light
  description: Turn on Smallway Light when Smallway Motion is detected
  use_blueprint:
    path: homeassistant/motion_light.yaml
    input:
      motion_entity: binary_sensor.smallway_motion_motion
      light_target:
        area_id: small_hallway
      no_motion_wait: 30
- id: "1718473101835"
  alias: Basement Auto Light triggered by Garage Door
  description: ""
  trigger:
    - type: opened
      platform: device
      device_id: 51eba2dd60daafcc2611bfac107f0a31
      entity_id: fb7fbe04e160bf11ab9c0dbe6257b2c7
      domain: binary_sensor
  condition: []
  action:
    - service: automation.trigger
      metadata: {}
      data:
        skip_condition: true
      target:
        entity_id: automation.basement_auto_light
  mode: single
- id: "1718474653669"
  alias: Hallway Auto Lights
  description: ""
  use_blueprint:
    path: homeassistant/motion_light.yaml
    input:
      motion_entity: binary_sensor.hallway_motion_motion
      light_target:
        device_id: 3ac4907cb0b4ad72f1fd6153b75e9cc8
      no_motion_wait: 60
- id: "1718477092437"
  alias: Hallway Lights toggled by Hallway Switch
  description: ""
  triggers:
    - type: changed_states
      device_id: 17d5bd308ecc8a23a4a8b36ba47fb585
      entity_id: bd5b1f03d01b0979a6c92338a2a13717
      domain: switch
      trigger: device
  conditions: []
  actions:
    - action: light.toggle
      metadata: {}
      data: {}
      target:
        device_id: 3ac4907cb0b4ad72f1fd6153b75e9cc8
  mode: single
- id: "1718752490414"
  alias: Towel Warmer off at night
  description: Turn on towel warmer in the morning, and turn it off at night.
  triggers:
    - at: 07:00:00
      trigger: time
      id: morning
    - trigger: time
      at: "22:00:00"
      id: evening
  conditions: []
  actions:
    - choose:
        - conditions:
            - condition: trigger
              id:
                - morning
          sequence:
            - action: switch.turn_on
              metadata: {}
              data: {}
              target:
                device_id: 464da44378e18ac7a0f135d0101529b1
        - conditions:
            - condition: trigger
              id:
                - evening
          sequence:
            - action: switch.turn_off
              metadata: {}
              data: {}
              target:
                device_id: 464da44378e18ac7a0f135d0101529b1
  mode: single
- id: "1718825566036"
  alias: Back Yard Auto Light
  description:
    Turn on front yard light if it's dark outside and someone is approaching
    the front door.
  use_blueprint:
    path: custom/motion_light_w_conditions.yaml
    input:
      motion_entity: binary_sensor.g5_flex_motion
      light_target:
        area_id: back_yard
      additional_conditions:
        - condition: or
          conditions:
            - condition: sun
              before: sunrise
            - condition: sun
              after: sunset
- id: "1720697453857"
  alias: Office Front Light toggled by Office Back Switch Bottom
  description: ""
  triggers:
    - trigger: state
      entity_id:
        - switch.hallway_switch_switch_2
      from: "on"
      to: "off"
    - trigger: state
      entity_id:
        - switch.hallway_switch_switch_2
      from: "off"
      to: "on"
  conditions: []
  actions:
    - action: light.toggle
      metadata: {}
      data: {}
      target:
        device_id: 1ca8e922258f21814e3dc50869663e30
  mode: single
- id: "1720697593635"
  alias: Office Back Light toggled by Office Back Switch Top
  description: ""
  triggers:
    - type: changed_states
      device_id: 8493ad33d9f7917e0a42e1fb5725f9ef
      entity_id: 9569f469aabaf4700b24d6e83f8b5ee9
      domain: switch
      trigger: device
  conditions: []
  actions:
    - action: light.toggle
      metadata: {}
      data: {}
      target:
        device_id:
          - 09cda4cbfecc871d2aefcb24d22b2df8
  mode: single
- id: "1720697694856"
  alias: Office Front Light toggled by Hallway Switch Left
  description: ""
  triggers:
    - type: changed_states
      device_id: 8493ad33d9f7917e0a42e1fb5725f9ef
      entity_id: 4b4f0386927eeed0ac7f46e0499a4302
      domain: switch
      trigger: device
  conditions: []
  actions:
    - action: light.toggle
      metadata: {}
      data: {}
      target:
        device_id: 1ca8e922258f21814e3dc50869663e30
  mode: single
- id: "1721164596666"
  alias: Washing machine done notification
  description:
    Send notification when wash machine goes from on to standby (i.e. finishes
    a cycle).
  triggers:
    - entity_id:
        - sensor.washing_machine_state
      from: "on"
      to: standby
      for:
        hours: 0
        minutes: 1
        seconds: 0
      trigger: state
  conditions:
    - condition: state
      entity_id: binary_sensor.washing_machine_door_opening
      state: "off"
      for:
        hours: 0
        minutes: 15
        seconds: 0
  actions:
    - data:
        data:
          ttl: 0
          priority: high
          tag: washing_machine
        message: Wash machine done!
      action: notify.mobile_app_sm_s901b
    - action: notify.mobile_app_sm_s921b
      data:
        data:
          ttl: 0
          priority: high
          tag: washing_machine
        message: Wash machine done!
  mode: single
- id: "1722207820068"
  alias: Notify when CO2 sensors go crazy
  description: Send notification when any CO2 sensor shows a value above 1500.
  triggers:
    - entity_id:
        - sensor.ep1_co2
        - sensor.itho_office_co2
        - sensor.itho_bedroom_co2
        - sensor.itho_kitchen_co2
        - sensor.airthings_living_room_carbon_dioxide
        - sensor.airthings_master_bedroom_carbon_dioxide
        - sensor.everything_presence_lite_b1c548_co2
      above: 1500
      trigger: numeric_state
  conditions: []
  actions:
    - metadata: {}
      data:
        title: Crazy CO2
        message:
          "{{ trigger.entity_id }} > {{ trigger.above}}, When: {{ now().strftime('%Y-%m-%d
          %H:%M:%S') }}, for {{ trigger.for }}"
        data:
          ttl: 0
          priority: high
      action: notify.mobile_app_sm_s901b
  mode: single
- id: "1724922622736"
  alias: Notify when to enable/disable forced Bypass Valve
  description:
    Send notification when we want to force bypass valve open (to supply
    cooler air from outside), or when to disable forced bypass valve (i.e outside
    air is warmer than inside).
  triggers:
    - entity_id:
        - sensor.esphome_web_10c200_43063_supply_temperature_to_inside
      above: sensor.esphome_web_10c200_43033_supply_temperature_from_outside
      for:
        hours: 0
        minutes: 0
        seconds: 0
      value_template: "{{ state.state | float - 3 }}"
      id: supply-to-inside-hotter-than-supply-from-outside
      trigger: numeric_state
    - entity_id:
        - sensor.esphome_web_10c200_43063_supply_temperature_to_inside
      above: sensor.esphome_web_10c200_43073_exhaust_temperature_from_inside
      for:
        hours: 0
        minutes: 0
        seconds: 0
      value_template: "{{ state.state | float - 1 }}"
      id: supply-to-inside-hotter-than-exhaust-from-inside
      trigger: numeric_state
  conditions:
    - condition: or
      conditions:
        - condition: and
          conditions:
            - condition: trigger
              id:
                - supply-to-inside-hotter-than-supply-from-outside
            - condition: state
              entity_id: switch.esphome_web_10c200_bypass_valve
              state: "off"
        - condition: and
          conditions:
            - condition: trigger
              id:
                - supply-to-inside-hotter-than-exhaust-from-inside
            - condition: state
              entity_id: switch.esphome_web_10c200_bypass_valve
              state: "on"
  actions:
    - choose:
        - conditions:
            - condition: trigger
              id:
                - supply-to-inside-hotter-than-supply-from-outside
          sequence:
            - metadata: {}
              data:
                title: Enable bypass!
                message: Outside air is cooler than inside!
                data:
                  ttl: 0
                  priority: high
                  tag: bypass_valve
              action: notify.mobile_app_sm_s901b
        - conditions:
            - condition: trigger
              id:
                - supply-to-inside-hotter-than-exhaust-from-inside
          sequence:
            - metadata: {}
              data:
                title: Disable bypass!
                message: Hot outside air is supplied inside!
                data:
                  ttl: 0
                  priority: high
                  tag: bypass_valve
              action: notify.mobile_app_sm_s901b
  mode: single
- id: "1725614457662"
  alias: Espresso Machine reminder
  description:
    Notify when espresso machine is ready to go (after 15m) or when we
    forgot to turn off (after 1h).
  triggers:
    - type: turned_on
      device_id: 36d09d5b3b6a0fa142e1b15cde05452c
      entity_id: 7445552922caf15b977d2e69c4779b34
      domain: switch
      for:
        hours: 0
        minutes: 15
        seconds: 0
      trigger: device
      id: After 15m
    - type: turned_on
      device_id: 36d09d5b3b6a0fa142e1b15cde05452c
      entity_id: 7445552922caf15b977d2e69c4779b34
      domain: switch
      for:
        hours: 1
        minutes: 0
        seconds: 0
      trigger: device
      id: After 1h
  conditions: []
  actions:
    - choose:
        - conditions:
            - condition: trigger
              id:
                - After 15m
          sequence:
            - action: notify.mobile_app_sm_s921b
              data:
                data:
                  ttl: 0
                  priority: high
                  tag: espresso_machine
                message: Coffee?
        - conditions:
            - condition: trigger
              id:
                - After 1h
          sequence:
            - data:
                data:
                  ttl: 0
                  priority: high
                  tag: espresso_machine
                message: Espresso machine is still on
              action: notify.mobile_app_sm_s901b
            - action: notify.mobile_app_sm_s921b
              data:
                message: Espresso machine is still on
                data:
                  ttl: 0
                  priority: high
                  tag: espresso_machine
  mode: single
- id: "1731283258102"
  alias: 2nd Stairs Auto Lights
  description: Turn on 2nd stairs light when motion is detected in 2nd stairs
  use_blueprint:
    path: homeassistant/motion_light.yaml
    input:
      motion_entity: binary_sensor.2nd_stairs_motion_motion
      light_target:
        entity_id: light.tech_room_dual_light_relay_2
      no_motion_wait: 60
- id: "1731283486937"
  alias: 2nd Stairs Auto Lights triggered by Upstairs Sliding Door
  description: ""
  triggers:
    - type: opened
      device_id: fbf54465cb72b4cb9193a30ae5ee7b01
      entity_id: deee8c18363104da4524d829289b8c5d
      domain: binary_sensor
      trigger: device
  conditions: []
  actions:
    - metadata: {}
      data:
        skip_condition: true
      target:
        entity_id:
          - automation.2nd_stairs_light_controlled_by_2nd_stairs_motion
      action: automation.trigger
  mode: single
- id: "1731698738612"
  alias: Living Room Wall Switch
  description: Button assignments for Living Room Wall Switch
  triggers:
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "001"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 001
      trigger: device
      value: 0
      id: Left Up Press
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "001"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 001
      trigger: device
      value: 2
      id: Left Up Hold
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "002"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 002
      trigger: device
      id: Left Down Press
      value: 0
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "002"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 002
      trigger: device
      id: Left Down Hold
      value: 2
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "003"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 003
      trigger: device
      id: Middle Up Press
      value: 0
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "003"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 003
      trigger: device
      id: Middle Up Hold
      value: 2
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "004"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 004
      trigger: device
      id: Middle Down Press
      value: 0
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "004"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 004
      trigger: device
      id: Middle Down Hold
      value: 2
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "005"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 005
      trigger: device
      id: Right Up Press
      value: 0
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "005"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 005
      trigger: device
      id: Right Up Hold
      value: 2
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "006"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 006
      trigger: device
      id: Right Down Press
      value: 0
    - device_id: 0d7dcf21810ad18fd103a6ac644e26b4
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "006"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 006
      trigger: device
      id: Right Down Hold
      value: 2
  conditions: []
  actions:
    - choose:
        - conditions:
            - condition: trigger
              id:
                - Left Up Press
          sequence:
            - action: light.turn_on
              metadata: {}
              data: {}
              target:
                entity_id: light.tech_room_dual_light_relay_2
        - conditions:
            - condition: trigger
              id:
                - Left Down Press
          sequence:
            - action: light.turn_off
              metadata: {}
              data: {}
              target:
                entity_id: light.tech_room_dual_light_relay_2
        - conditions:
            - condition: trigger
              id:
                - Middle Up Press
          sequence:
            - action: light.turn_on
              metadata: {}
              data:
                kelvin: 2700
              target:
                entity_id: light.lounge_lights
        - conditions:
            - condition: trigger
              id:
                - Middle Up Hold
          sequence:
            - action: light.turn_on
              metadata: {}
              data:
                brightness_step_pct: 5
              target:
                entity_id: light.lounge_lights
        - conditions:
            - condition: trigger
              id:
                - Middle Down Press
          sequence:
            - action: light.turn_off
              metadata: {}
              data: {}
              target:
                entity_id: light.lounge_lights
        - conditions:
            - condition: trigger
              id:
                - Middle Down Hold
          sequence:
            - action: light.turn_on
              metadata: {}
              data:
                brightness_step_pct: -5
              target:
                entity_id: light.lounge_lights
        - conditions:
            - condition: trigger
              id:
                - Right Up Press
          sequence:
            - action: cover.open_cover
              metadata: {}
              data: {}
              target:
                area_id: living_room
        - conditions:
            - condition: trigger
              id:
                - Right Down Press
          sequence:
            - action: cover.close_cover
              metadata: {}
              data: {}
              target:
                area_id: living_room
  mode: single
- id: "1731718005326"
  alias: Office Front Wall Switch
  description: Button assignments for Office Front Wall Switch
  triggers:
    - device_id: f620bd40ab0a3299c0b46162b86aac7d
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "001"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 001
      trigger: device
      id: Left Up Press
      value: 0
    - device_id: f620bd40ab0a3299c0b46162b86aac7d
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "001"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 001
      trigger: device
      id: Left Up Hold
      value: 2
    - device_id: f620bd40ab0a3299c0b46162b86aac7d
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "003"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 003
      trigger: device
      id: Left Down Press
      value: 0
    - device_id: f620bd40ab0a3299c0b46162b86aac7d
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "003"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 003
      trigger: device
      id: Left Down Hold
      value: 2
    - device_id: f620bd40ab0a3299c0b46162b86aac7d
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "002"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 002
      trigger: device
      id: Right Up Press
      value: 0
    - device_id: f620bd40ab0a3299c0b46162b86aac7d
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "002"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 002
      trigger: device
      id: Right Up Hold
      value: 2
    - device_id: f620bd40ab0a3299c0b46162b86aac7d
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "004"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 004
      trigger: device
      id: Right Down Press
      value: 0
    - device_id: f620bd40ab0a3299c0b46162b86aac7d
      domain: zwave_js
      type: event.value_notification.central_scene
      property: scene
      property_key: "004"
      endpoint: 0
      command_class: 91
      subtype: Endpoint 0 Scene 004
      trigger: device
      id: Right Down Hold
      value: 2
  conditions: []
  actions:
    - choose:
        - conditions:
            - condition: trigger
              id:
                - Left Up Press
          sequence:
            - action: light.toggle
              metadata: {}
              data: {}
              target:
                device_id:
                  - 09cda4cbfecc871d2aefcb24d22b2df8
        - conditions:
            - condition: trigger
              id:
                - Left Up Hold
          sequence:
            - action: light.turn_on
              metadata: {}
              data:
                brightness_step_pct: 5
              target:
                device_id:
                  - 09cda4cbfecc871d2aefcb24d22b2df8
        - conditions:
            - condition: trigger
              id:
                - Left Down Press
          sequence:
            - action: light.turn_off
              metadata: {}
              data: {}
              target:
                device_id: 09cda4cbfecc871d2aefcb24d22b2df8
        - conditions:
            - condition: trigger
              id:
                - Left Down Hold
          sequence:
            - action: light.turn_on
              metadata: {}
              data:
                brightness_step_pct: -5
              target:
                device_id:
                  - 09cda4cbfecc871d2aefcb24d22b2df8
        - conditions:
            - condition: trigger
              id:
                - Right Up Press
          sequence:
            - action: light.toggle
              metadata: {}
              data: {}
              target:
                device_id: 1ca8e922258f21814e3dc50869663e30
        - conditions:
            - condition: trigger
              id:
                - Right Up Hold
          sequence:
            - action: light.turn_on
              metadata: {}
              data:
                brightness_step_pct: 5
              target:
                device_id: 1ca8e922258f21814e3dc50869663e30
        - conditions:
            - condition: trigger
              id:
                - Right Down Press
          sequence:
            - action: light.turn_off
              metadata: {}
              target:
                device_id: 1ca8e922258f21814e3dc50869663e30
              data: {}
        - conditions:
            - condition: trigger
              id:
                - Right Down Hold
          sequence:
            - action: light.turn_on
              metadata: {}
              data:
                brightness_step_pct: -5
              target:
                device_id: 1ca8e922258f21814e3dc50869663e30
  mode: single
- id: "1732321411417"
  alias: Living Room Light controlled by EP Lite
  description: ""
  triggers:
    - type: occupied
      device_id: a45fe439a66578475578781062bc6fbf
      entity_id: c244755ac3c9aa958ea25ff1f24cd844
      domain: binary_sensor
      trigger: device
      id: Enter
    - type: not_occupied
      device_id: a45fe439a66578475578781062bc6fbf
      entity_id: c244755ac3c9aa958ea25ff1f24cd844
      domain: binary_sensor
      trigger: device
      id: Leave
      for:
        hours: 0
        minutes: 5
        seconds: 0
  conditions: []
  actions:
    - action: light.turn_on
      metadata: {}
      data: {}
      target:
        device_id: ce8c1ddb8e57dfd64442f197ca0c1b67
    - choose:
        - conditions:
            - condition: trigger
              id:
                - Enter
          sequence:
            - action: light.turn_on
              metadata: {}
              data: {}
              target:
                device_id: ce8c1ddb8e57dfd64442f197ca0c1b67
        - conditions:
            - condition: trigger
              id:
                - Leave
          sequence:
            - action: light.turn_off
              metadata: {}
              data: {}
              target:
                device_id: ce8c1ddb8e57dfd64442f197ca0c1b67
  mode: single
- id: "1732928590880"
  alias: Meterkast power notifications
  description: "Notify when Meterkast UPS is no longer online. "
  triggers:
    - trigger: state
      entity_id:
        - sensor.meterkast_ups_status
      from: Online
      id: offline
    - trigger: state
      entity_id:
        - sensor.meterkast_ups_status
      id: online
      to: Online
  conditions: []
  actions:
    - choose:
        - conditions:
            - condition: trigger
              id:
                - offline
          sequence:
            - data:
                data:
                  ttl: 0
                  priority: high
                message: Meterkast lost power!
              action: notify.mobile_app_sm_s901b
            - data:
                data:
                  ttl: 0
                  priority: high
                message: Meterkast lost power!
              action: notify.mobile_app_sm_g970f
        - conditions:
            - condition: trigger
              id:
                - online
          sequence:
            - data:
                data:
                  ttl: 0
                  priority: high
                message: Meterkast got power!
              action: notify.mobile_app_sm_s901b
            - data:
                data:
                  ttl: 0
                  priority: high
                message: Meterkast got power!
              action: notify.mobile_app_sm_g970f
  mode: single
- id: "1733706246677"
  alias: Surround Receiver power controls AV Speakers power
  description: Turn on/off all speakers when Surround receiver is turned on/off
  triggers:
    - trigger: state
      entity_id:
        - media_player.denon_dn_500av
      to: "on"
      id: Receiver On
    - trigger: state
      entity_id:
        - media_player.denon_dn_500av
      to: "off"
      id: Receiver Off
  conditions: []
  actions:
    - choose:
        - conditions:
            - condition: trigger
              id:
                - Receiver On
          sequence:
            - action: switch.turn_on
              metadata: {}
              data: {}
              target:
                label_id: audio_system
        - conditions:
            - condition: trigger
              id:
                - Receiver Off
          sequence:
            - action: switch.turn_off
              metadata: {}
              data: {}
              target:
                label_id: audio_system
  mode: single
- id: "1733946770473"
  alias: 1st Stairs Auto Lights
  description: Turn on 1st stairs light when motion is detected in 1st stairs
  use_blueprint:
    path: homeassistant/motion_light.yaml
    input:
      motion_entity: binary_sensor.1st_stairs_motion_motion
      light_target:
        device_id: 7934e00e7c0b15a9354dda732a3c8926
      no_motion_wait: 60
- id: "1733962053614"
  alias: Upstairs Auto Lights
  description: Motion-controlled lights in upstairs hallway
  use_blueprint:
    path: homeassistant/motion_light.yaml
    input:
      motion_entity: binary_sensor.upstairs_motion_motion
      light_target:
        device_id: d0747de4d136fe6e5c58b67b5e6de6fd
      no_motion_wait: 60
- id: "1743777457767"
  alias: Stop sunlight entering Master Bedroom
  description:
    Automatically lower Master Bedrooom blinds when sun is entering in
    the afternoon. Automatically raise blinds on sunset.
  triggers:
    - trigger: time
      at: "14:30:00"
      id: afternoon
    - event: sunset
      offset: 0
      trigger: sun
      id: sunset
  conditions:
    - condition: or
      conditions:
        - condition: trigger
          id:
            - sunset
        - condition: state
          entity_id: weather.buienradar
          state:
            - clear-night
            - exceptional
            - sunny
  actions:
    - choose:
        - conditions:
            - condition: trigger
              id:
                - afternoon
          sequence:
            - action: cover.close_cover
              metadata: {}
              data: {}
              target:
                area_id: bedroom
        - conditions:
            - condition: trigger
              id:
                - sunset
          sequence:
            - action: cover.open_cover
              metadata: {}
              data: {}
              target:
                area_id: bedroom
  mode: single
- id: "1748094220557"
  alias: Clean/Replace ventilation filters
  description:
    Notify when WTW unit reports that it's time to clean/replace ventilation
    filters.
  triggers:
    - trigger: numeric_state
      entity_id:
        - sensor.esphome_web_10c200_40200_error_number
      above: 0
      below: 3
    - trigger: state
      entity_id:
        - number.esphome_web_10c200_40201_error_01_count
        - number.esphome_web_10c200_40202_error_02_count
      from:
      to:
  conditions: []
  actions:
    - data:
        data:
          ttl: 0
          priority: high
          tag: ventilation_filter
        message: Clean or replace filters in ventilation unit
      action: notify.mobile_app_sm_s901b
    - action: notify.mobile_app_sm_s921b
      data:
        message: Clean or replace filters in ventilation unit
        data:
          ttl: 0
          priority: high
          tag: ventilation_filter
  mode: single
- id: "1748094678567"
  alias: Ventilation errors
  description: Notify when WTW unit reports error codes out of the ordinary
  triggers:
    - trigger: numeric_state
      entity_id:
        - sensor.esphome_web_10c200_40200_error_number
      above: 2
      below: 255
    - trigger: state
      entity_id:
        - number.esphome_web_10c200_40203_error_03_count
        - number.esphome_web_10c200_40204_error_04_count
        - number.esphome_web_10c200_40211_error_11_count
        - number.esphome_web_10c200_40212_error_12_count
        - number.esphome_web_10c200_40213_error_13_count
        - number.esphome_web_10c200_40214_error_14_count
        - number.esphome_web_10c200_40215_error_15_count
        - number.esphome_web_10c200_40216_error_16_count
        - number.esphome_web_10c200_40217_error_17_count
        - number.esphome_web_10c200_40218_error_18_count
        - number.esphome_web_10c200_40219_error_19_count
        - number.esphome_web_10c200_40220_error_20_count
        - number.esphome_web_10c200_40221_error_21_count
        - number.esphome_web_10c200_40222_error_22_count
        - number.esphome_web_10c200_40223_error_23_count
        - number.esphome_web_10c200_40231_error_31_count
        - number.esphome_web_10c200_40232_error_32_count
        - number.esphome_web_10c200_40233_error_33_count
        - number.esphome_web_10c200_40234_error_34_count
      from:
      to:
  conditions: []
  actions:
    - data:
        data:
          ttl: 0
          priority: high
          tag: ventilation_error
        message: Ventilation unit error!
      action: notify.mobile_app_sm_s901b
  mode: single
- id: "1768163821773"
  alias: Robb smarrt 8-button switch
  description: ""
  use_blueprint:
    path: Bekkie/robb-smarrt-8-switch-ROB_200-007-0.yaml
    input:
      remote: 6f789cc07e6a01b3d6ff901ed1b1c23c
      on_button_1_short:
        - action: light.turn_on
          metadata: {}
          data:
            transition: 1
          target:
            entity_id: light.lounge_spot_1_light
        - choose:
            - conditions:
                - condition: device
                  type: is_off
                  device_id: e40d3eab4778acf65130fb07fbdd0ce9
                  entity_id: 1d31cb69aede9f6696a9b254dc56ba62
                  domain: light
              sequence:
                - action: light.turn_on
                  metadata: {}
                  data:
                    transition: 1
                  target:
                    entity_id: light.lounge_spot_1_light
          default:
            - action: light.turn_on
              metadata: {}
              data:
                brightness_step_pct: 10
              target:
                entity_id: light.lounge_spot_1_light
      off_button_1_short:
        - action: light.turn_off
          metadata: {}
          data:
            transition: 1
          target:
            entity_id: light.lounge_spot_1_light
      on_button_1_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: 25
          target:
            entity_id: light.lounge_spot_1_light
      off_button_1_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: -25
          target:
            entity_id: light.lounge_spot_1_light
      on_button_2_short:
        - action: light.turn_on
          metadata: {}
          data:
            transition: 1
          target:
            entity_id: light.lounge_spot_2_light
      on_button_3_short:
        - action: light.turn_on
          metadata: {}
          data:
            transition: 1
          target:
            entity_id: light.lounge_spot_3_light
      on_button_4_short:
        - action: light.turn_on
          metadata: {}
          data:
            transition: 1
          target:
            entity_id: light.lounge_spot_4_light
      off_button_2_short:
        - action: light.turn_off
          metadata: {}
          data:
            transition: 1
          target:
            entity_id: light.lounge_spot_2_light
      off_button_3_short:
        - action: light.turn_off
          metadata: {}
          data:
            transition: 1
          target:
            entity_id: light.lounge_spot_3_light
      off_button_4_short:
        - action: light.turn_off
          metadata: {}
          data:
            transition: 1
          target:
            entity_id: light.lounge_spot_4_light
      on_button_2_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: 25
          target:
            entity_id: light.lounge_spot_2_light
      on_button_3_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: 25
          target:
            entity_id: light.lounge_spot_3_light
      on_button_4_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: 25
          target:
            entity_id: light.lounge_spot_4_light
      off_button_2_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: -25
          target:
            entity_id: light.lounge_spot_2_light
      off_button_3_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: -25
          target:
            entity_id: light.lounge_spot_3_light
      off_button_4_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: -25
          target:
            entity_id: light.lounge_spot_4_light
- id: "1768168113790"
  alias: Living Room North Dimmer Button
  description: ""
  use_blueprint:
    path: homeassistant/robb-smarrt-rotary-button.yaml
    input:
      remote: 22e7b0e75bd7cfe4ed26b12bcc394f66
      light: bb786a051e5065260a041e15285f834c
      input_button: 22e7b0e75bd7cfe4ed26b12bcc394f66
      target_light:
        entity_id: light.lounge_lights
- id: "1768868216213"
  alias: Kitchen North Left Switch
  description:
    Program the battery-powered switch on the protruding wall between the
    kitchen sink and the bookcase. Right switch controls Kitchen Bench Lights. Left
    switch controls bookcase lights
  use_blueprint:
    path: homeassistant/robb-smarrt-2-switch-ROB_200-081-0.yaml
    input:
      remote: a116f61b527fa742bfb1de47567ef615
      on_button_1_short:
        - choose:
            - conditions:
                - condition: state
                  entity_id: light.kitchen_bench_lights
                  state:
                    - "on"
              sequence:
                - action: light.turn_on
                  metadata: {}
                  target:
                    entity_id: light.kitchen_bench_lights
                  data:
                    brightness_step_pct: 10
          default:
            - action: light.turn_on
              metadata: {}
              target:
                entity_id: light.kitchen_bench_lights
              data: {}
      off_button_1_short:
        - action: light.turn_off
          metadata: {}
          target:
            entity_id: light.kitchen_bench_lights
          data: {}
      off_button_2_short:
        - action: light.turn_off
          metadata: {}
          data:
            transition: 0.2
          target:
            entity_id: light.bookcase
      on_button_2_short:
        - choose:
            - conditions:
                - condition: state
                  entity_id: light.bookcase
                  state:
                    - "on"
              sequence:
                - action: light.turn_on
                  metadata: {}
                  data:
                    brightness_step_pct: 10
                    transition: 0.1
                  target:
                    entity_id: light.bookcase
          default:
            - action: light.turn_on
              metadata: {}
              data:
                transition: 0.2
              target:
                entity_id: light.bookcase
      on_button_1_long:
        - action: light.turn_on
          metadata: {}
          target:
            entity_id: light.kitchen_bench_lights
          data:
            brightness_step_pct: 10
      off_button_1_long:
        - action: light.turn_on
          metadata: {}
          target:
            entity_id: light.kitchen_bench_lights
          data:
            brightness_step_pct: -10
      on_button_2_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: 10
            transition: 0.1
          target:
            entity_id: light.bookcase
      off_button_2_long:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_step_pct: -10
            transition: 0.1
          target:
            entity_id: light.bookcase
- id: "1769194346264"
  alias:
    Kitchen Island Lights controlled by Kitchen Island Light Switch on south
    wall
  description: ""
  triggers:
    - type: changed_states
      device_id: a68d41b27b097a44f9381f27fe16924e
      entity_id: d2e1f6762759a175ef2dc246b157999d
      domain: switch
      trigger: device
  conditions: []
  actions:
    - action: light.toggle
      metadata: {}
      target:
        entity_id: light.kitchen_island_lights
      data: {}
  mode: single
